<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christmas Puzzle Challenge</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(to bottom, #0a1628 0%, #1e3a5f 40%, #2d5a8c 70%, #1e3a5f 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }
        
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle, white 1px, transparent 1px),
                radial-gradient(circle, white 0.5px, transparent 0.5px),
                radial-gradient(circle, rgba(255,255,255,0.8) 1.5px, transparent 1.5px);
            background-size: 200px 200px, 150px 150px, 250px 250px;
            background-position: 0 0, 40px 60px, 130px 270px;
            animation: stars 50s linear infinite;
            pointer-events: none;
        }
        
        body::after {
            content: '';
            position: absolute;
            top: 10%;
            left: 50%;
            width: 3px;
            height: 3px;
            background: white;
            border-radius: 50%;
            box-shadow: 
                -100px 50px 2px 1px white,
                200px -80px 1px 0px white,
                -300px 150px 1px 1px rgba(255,255,255,0.8),
                400px 20px 2px 1px white,
                -200px -100px 1px 0px white,
                150px 200px 1px 1px rgba(255,255,255,0.9),
                -350px -50px 1px 0px white,
                250px 150px 2px 1px white,
                -150px 100px 1px 1px white,
                350px -150px 1px 0px rgba(255,255,255,0.8),
                -250px 200px 1px 1px white,
                100px -50px 2px 1px white,
                -400px 100px 1px 0px white,
                300px 100px 1px 1px rgba(255,255,255,0.9),
                50px 250px 1px 0px white,
                -100px -150px 2px 1px white,
                450px 50px 1px 1px white,
                -50px 150px 1px 0px rgba(255,255,255,0.8),
                200px -150px 1px 1px white,
                -300px 50px 2px 1px white;
            animation: twinkle 3s ease-in-out infinite;
            pointer-events: none;
        }
        
        @keyframes stars {
            from { transform: translateY(0); }
            to { transform: translateY(-200px); }
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
        
        .container {
            max-width: 800px;
            width: 100%;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .title {
            font-size: 3rem;
            font-weight: bold;
            color: white;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .score-bar {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            color: white;
            font-size: 1.2rem;
        }
        
        .card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            border: 4px solid #16a34a;
            margin-bottom: 20px;
        }
        
        .question {
            font-size: 1.3rem;
            color: #1f2937;
            line-height: 1.8;
            margin-bottom: 25px;
        }
        
        .hint-box {
            background: #dbeafe;
            border: 2px solid #3b82f6;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 25px;
        }
        
        .hint-box p {
            color: #1e40af;
            font-weight: 500;
        }
        
        .answer-box {
            background: #dcfce7;
            border: 2px solid #22c55e;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            text-align: center;
        }
        
        .answer-title {
            color: #15803d;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .answer-text {
            color: #166534;
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .answer-prompt {
            color: #374151;
            font-weight: 500;
            margin-bottom: 15px;
        }
        
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }
        
        button {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .btn-blue {
            background: #3b82f6;
            color: white;
        }
        
        .btn-blue:hover {
            background: #2563eb;
        }
        
        .btn-yellow {
            background: #eab308;
            color: white;
        }
        
        .btn-yellow:hover {
            background: #ca8a04;
        }
        
        .btn-red {
            background: #dc2626;
            color: white;
        }
        
        .btn-red:hover {
            background: #b91c1c;
        }
        
        .btn-green {
            background: #16a34a;
            color: white;
        }
        
        .btn-green:hover {
            background: #15803d;
        }
        
        .instructions {
            background: rgba(255,255,255,0.9);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            color: #374151;
        }
        
        .final-score {
            text-align: center;
            background: white;
            border-radius: 20px;
            padding: 60px 40px;
            border: 4px solid #fbbf24;
        }
        
        .final-score h2 {
            font-size: 2.5rem;
            color: #1f2937;
            margin-bottom: 20px;
        }
        
        .score-display {
            font-size: 4rem;
            font-weight: bold;
            color: #16a34a;
            margin: 20px 0;
        }
        
        .score-message {
            font-size: 1.5rem;
            color: #374151;
            margin-bottom: 30px;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 640px) {
            .title {
                font-size: 2rem;
            }
            
            .question {
                font-size: 1.1rem;
            }
            
            .card {
                padding: 25px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="game-screen">
            <div class="header">
                <h1 class="title">üéÅ Christmas Puzzle Challenge üéÅ</h1>
                <div class="score-bar">
                    <span>‚≠ê Score: <strong><span id="current-score">0</span>/7</strong></span>
                    <span>Puzzle <span id="current-puzzle">1</span> of 7</span>
                </div>
            </div>
            
            <div class="card">
                <div class="question" id="question"></div>
                
                <div id="hint-section" class="hint-box hidden">
                    <p>üí° Hint: <span id="hint-text"></span></p>
                </div>
                
                <div id="answer-section" class="answer-box hidden">
                    <p class="answer-title">üéâ Answer:</p>
                    <p class="answer-text" id="answer-text"></p>
                    <div id="response-buttons">
                        <p class="answer-prompt">Did you get it right?</p>
                        <div class="button-group">
                            <button class="btn-green" onclick="markCorrect()">‚úì Yes, I got it!</button>
                            <button class="btn-red" onclick="markIncorrect()">‚úó No, I didn't</button>
                        </div>
                    </div>
                    <div id="recorded-message" class="hidden">
                        <p style="color: #6b7280; font-weight: 500;">Answer recorded! ‚úì</p>
                    </div>
                </div>
                
                <div class="button-group">
                    <button id="hint-btn" class="btn-blue" onclick="showHint()">üí° Show Hint</button>
                    <button id="reveal-btn" class="btn-yellow" onclick="revealAnswer()">üéÅ Reveal Answer</button>
                    <button id="next-btn" class="btn-red hidden" onclick="nextPuzzle()">Next Puzzle ‚Üí</button>
                </div>
            </div>
            
            <div class="instructions">
                <p><strong> How to play:</strong> Read the puzzle and try to solve it! Use hints if you get stuck, 
                then reveal the answer. Tell us if you got it right or wrong to track your score!</p>
            </div>
        </div>
        
        <div id="final-screen" class="final-score hidden">
            <div style="font-size: 5rem; margin-bottom: 20px;">‚≠ê</div>
            <h2>üéâ Game Complete! üéâ</h2>
            <div class="score-display"><span id="final-score">0</span> / 7</div>
            <p class="score-message" id="score-message"></p>
            <button class="btn-green" onclick="resetGame()" style="font-size: 1.2rem; padding: 20px 40px;">
                üîÑ Play Again
            </button>
        </div>
    </div>

    <script>
        const riddles = [
            {
                question: "I'm red and white and bring delight, I'm twisted sweet, a peppermint treat. What am I?",
                answer: "Candy Cane",
                hint: "You can hang me on a tree!"
            },
            {
                question: "I have a beard that's long and white, I bring joy on Christmas night. Who am I?",
                answer: "Santa Claus",
                hint: "Ho ho ho!"
            },
            {
                question: "I'm made of snow but I don't last, with a carrot nose and coal eyes that contrast. What am I?",
                answer: "Snowman",
                hint: "Frosty is famous!"
            },
            {
                question: "I'm wrapped with care beneath the tree, inside me there's a mystery. What am I?",
                answer: "Present",
                hint: "You shake me to guess what's inside!"
            },
            {
                question: "I have needles but I cannot sew, I'm decorated with lights all aglow. What am I?",
                answer: "Christmas Tree",
                hint: "I'm the star of the living room!"
            },
            {
                question: "You are given nine gold coins that look identical. You are told that one of them is fake, and that this coin weighs less than the real ones. You are also given a set of old-fashioned balance scales that weigh groups of objects and show which group is heavier. What is the smallest number of weighings you need to carry out to determine which is the fake coin?",
                answer: "2 weighings - Weigh in sets of three first, then weigh in sets of one",
                hint: "Think about dividing the coins into equal groups"
            },
            {
                question: "You've been transported back in time to help cook Christmas dinner. Your job is to bake the Christmas pie, but there aren't even any clocks in the kitchen, let alone mobile phones. All you've got is two egg-timers: one that times exactly four minutes, and one that times exactly seven minutes. The scary chef tells you to put the pie in the oven for exactly ten minutes and no longer. How can you time ten minutes exactly, and avoid getting told off by the chef?",
                answer: "Start both timers at the same time. Wait until the 4 minute timer finishes, leaving 3 minutes on the 7 minute timer. Once the 7 minute timer finishes, start it again - this gives you 3 + 7 = 10 minutes total",
                hint: "The trick involves using the difference between the two timers"
            }
        ];

        let currentRiddle = 0;
        let score = 0;
        let showingHint = false;
        let showingAnswer = false;
        let answered = false;

        function loadRiddle() {
            const riddle = riddles[currentRiddle];
            document.getElementById('question').textContent = riddle.question;
            document.getElementById('hint-text').textContent = riddle.hint;
            document.getElementById('answer-text').textContent = riddle.answer;
            document.getElementById('current-puzzle').textContent = currentRiddle + 1;
            document.getElementById('current-score').textContent = score;
            
            document.getElementById('hint-section').classList.add('hidden');
            document.getElementById('answer-section').classList.add('hidden');
            document.getElementById('hint-btn').classList.remove('hidden');
            document.getElementById('reveal-btn').classList.remove('hidden');
            document.getElementById('next-btn').classList.add('hidden');
            document.getElementById('response-buttons').classList.remove('hidden');
            document.getElementById('recorded-message').classList.add('hidden');
            
            showingHint = false;
            showingAnswer = false;
            answered = false;
        }

        function showHint() {
            document.getElementById('hint-section').classList.remove('hidden');
            document.getElementById('hint-btn').classList.add('hidden');
            showingHint = true;
        }

        function revealAnswer() {
            document.getElementById('answer-section').classList.remove('hidden');
            document.getElementById('reveal-btn').classList.add('hidden');
            if (!showingHint) {
                document.getElementById('hint-btn').classList.add('hidden');
            }
            showingAnswer = true;
        }

        function markCorrect() {
            score++;
            document.getElementById('current-score').textContent = score;
            answered = true;
            document.getElementById('response-buttons').classList.add('hidden');
            document.getElementById('recorded-message').classList.remove('hidden');
            document.getElementById('next-btn').classList.remove('hidden');
            
            if (currentRiddle === riddles.length - 1) {
                document.getElementById('next-btn').textContent = 'See Final Score ‚Üí';
            }
        }

        function markIncorrect() {
            answered = true;
            document.getElementById('response-buttons').classList.add('hidden');
            document.getElementById('recorded-message').classList.remove('hidden');
            document.getElementById('next-btn').classList.remove('hidden');
            
            if (currentRiddle === riddles.length - 1) {
                document.getElementById('next-btn').textContent = 'See Final Score ‚Üí';
            }
        }

        function nextPuzzle() {
            if (currentRiddle < riddles.length - 1) {
                currentRiddle++;
                loadRiddle();
            } else {
                showFinalScore();
            }
        }

        function showFinalScore() {
            document.getElementById('game-screen').classList.add('hidden');
            document.getElementById('final-screen').classList.remove('hidden');
            document.getElementById('final-score').textContent = score;
            
            let message = '';
            if (score === riddles.length) {
                message = "Perfect score! You're a puzzle master! üåü";
            } else if (score >= riddles.length / 2) {
                message = "Great job! Well done! üëè";
            } else {
                message = "Good effort! Try again to improve your score!";
            }
            document.getElementById('score-message').textContent = message;
        }

        function resetGame() {
            currentRiddle = 0;
            score = 0;
            document.getElementById('game-screen').classList.remove('hidden');
            document.getElementById('final-screen').classList.add('hidden');
            loadRiddle();
        }

        // Load first riddle on page load
        loadRiddle();
    </script>
</body>
</html>
